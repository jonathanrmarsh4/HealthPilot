onathanmarsh@Jonathans-MacBook-Air HealthPilot % sed -n '30,130p' node_modules/@capgo/capacitor-health/ios/Sources/HealthPlugin/Health.swift
enum HealthDataType: String, CaseIterable {
    // Original 5
    case steps
    case distance
    case calories
    case heartRate
    case weight
    
    // Batch 1: 6 cardiovascular metrics
    case hrv
    case restingHeartRate
    case bloodPressureSystolic
    case bloodPressureDiastolic
    case oxygenSaturation
    case respiratoryRate
    
    // Batch 2: 14 additional metrics
    case height
    case bmi
    case bodyFat
    case leanBodyMass
    case basalCalories
    case flightsClimbed
    case bloodGlucose
    case bodyTemperature
    case vo2Max
    case walkingHeartRateAverage
    case waistCircumference
    case dietaryWater
    case exerciseTime
    case standTime
    
    // Special types (handled differently)
    case sleepAnalysis

    func sampleType() throws -> HKSampleType {
        switch self {
        // Quantity types
        case .steps:
            return HKQuantityType.quantityType(forIdentifier: .stepCount)!
        case .distance:
            return HKQuantityType.quantityType(forIdentifier: .distanceWalkingRunning)!
        case .calories:
            return HKQuantityType.quantityType(forIdentifier: .activeEnergyBurned)!
        case .heartRate:
            return HKQuantityType.quantityType(forIdentifier: .heartRate)!
        case .weight:
            return HKQuantityType.quantityType(forIdentifier: .bodyMass)!
        case .hrv:
            return HKQuantityType.quantityType(forIdentifier: .heartRateVariabilitySDNN)!
        case .restingHeartRate:
            return HKQuantityType.quantityType(forIdentifier: .restingHeartRate)!
        case .bloodPressureSystolic:
            return HKQuantityType.quantityType(forIdentifier: .bloodPressureSystolic)!
        case .bloodPressureDiastolic:
            return HKQuantityType.quantityType(forIdentifier: .bloodPressureDiastolic)!
        case .oxygenSaturation:
            return HKQuantityType.quantityType(forIdentifier: .oxygenSaturation)!
        case .respiratoryRate:
            return HKQuantityType.quantityType(forIdentifier: .respiratoryRate)!
        case .height:
            return HKQuantityType.quantityType(forIdentifier: .height)!
        case .bmi:
            return HKQuantityType.quantityType(forIdentifier: .bodyMassIndex)!
        case .bodyFat:
            return HKQuantityType.quantityType(forIdentifier: .bodyFatPercentage)!
        case .leanBodyMass:
            return HKQuantityType.quantityType(forIdentifier: .leanBodyMass)!
        case .basalCalories:
            return HKQuantityType.quantityType(forIdentifier: .basalEnergyBurned)!
        case .flightsClimbed:
            return HKQuantityType.quantityType(forIdentifier: .flightsClimbed)!
        case .bloodGlucose:
            return HKQuantityType.quantityType(forIdentifier: .bloodGlucose)!
        case .bodyTemperature:
            return HKQuantityType.quantityType(forIdentifier: .bodyTemperature)!
        case .vo2Max:
            return HKQuantityType.quantityType(forIdentifier: .vo2Max)!
        case .walkingHeartRateAverage:
            return HKQuantityType.quantityType(forIdentifier: .walkingHeartRateAverage)!
        case .waistCircumference:
            return HKQuantityType.quantityType(forIdentifier: .waistCircumference)!
        case .dietaryWater:
            return HKQuantityType.quantityType(forIdentifier: .dietaryWater)!
        case .exerciseTime:
            return HKQuantityType.quantityType(forIdentifier: .appleExerciseTime)!
        case .standTime:
            return HKQuantityType.quantityType(forIdentifier: .appleStandTime)!
            
        // Category types
        case .sleepAnalysis:
            return HKCategoryType.categoryType(forIdentifier: .sleepAnalysis)!
        }
    }

    var defaultUnit: HKUnit {
        switch self {
        case .steps:
            return HKUnit.count()
        case .distance:
            return HKUnit.meter()
jonathanmarsh@Jonathans-MacBook-Air HealthPilot % 
jonathanmarsh@Jonathans-MacBook-Air HealthPilot % 
jonathanmarsh@Jonathans-MacBook-Air HealthPilot % sed -n '650,688p' node_modules/@capgo/capacitor-health/ios/Sources/HealthPlugin/Health.swift
        guard let identifier = identifier else {
            return dataType.defaultUnit
        }

        switch identifier {
        case "count":
            return HKUnit.count()
        case "meter":
            return HKUnit.meter()
        case "kilocalorie":
            return HKUnit.kilocalorie()
        case "bpm":
            return HKUnit.count().unitDivided(by: HKUnit.minute())
        case "kilogram":
            return HKUnit.gramUnit(with: .kilo)
        default:
            return dataType.defaultUnit
        }
    }

    private func objectTypes(for dataTypes: [HealthDataType]) throws -> Set<HKObjectType> {
        var set = Set<HKObjectType>()
        for dataType in dataTypes {
            let type = try dataType.sampleType()
            set.insert(type)
        }
        return set
    }

    private func sampleTypes(for dataTypes: [HealthDataType]) throws -> Set<HKSampleType> {
        var set = Set<HKSampleType>()
        for dataType in dataTypes {
            let type = try dataType.sampleType() as HKSampleType
            set.insert(type)
        }
        return set
    }
}

jonathanmarsh@Jonathans-MacBook-Air HealthPilot % 
jonathanmarsh@Jonathans-MacBook-Air HealthPilot % 
jonathanmarsh@Jonathans-MacBook-Air HealthPilot % grep -n "readCategorySamples" node_modules/@capgo/capacitor-health/ios/Sources/HealthPlugin/Health.swift
324:            func readCategorySamples(dataTypeIdentifier: String, startDateString: String?, endDateString: String?, limit: Int?, ascending: Bool, completion: @escaping (Result<[[String: Any]], Error>) -> Void) throws {
416:        func readCategorySamples(dataTypeIdentifier: String, startDateString: String?, endDateString: String?, limit: Int?, ascending: Bool, completion: @escaping (Result<[[String: Any]], Error>) -> Void) throws {
